{"ast":null,"code":"import _defineProperty from \"/Users/richardltrevillianiii/Documents/homework/w21-Wanderlist/wanderlist/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/richardltrevillianiii/Documents/homework/w21-Wanderlist/wanderlist/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/richardltrevillianiii/Documents/homework/w21-Wanderlist/wanderlist/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/richardltrevillianiii/Documents/homework/w21-Wanderlist/wanderlist/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/richardltrevillianiii/Documents/homework/w21-Wanderlist/wanderlist/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/richardltrevillianiii/Documents/homework/w21-Wanderlist/wanderlist/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/richardltrevillianiii/Documents/homework/w21-Wanderlist/wanderlist/client/src/pages/Home.js\";\n// Home page view Component called by React Router in the App.js Router Switch Routes\nimport React, { Component } from \"react\"; // use a <Link> tag in place of <a href> to link to another page view with React Router\n// import { Link } from \"react-router-dom\";\n// import list object arrays for Countries/Regions and Feature types\n\nimport ListRegions from \"../utils/ListRegions\";\nimport ListFeatures from \"../utils/ListFeatures\"; // import single-component .js files\n\nimport Header from \"../components/Header\";\nimport Background from \"../components/Background\"; // import DeleteBtn from \"../components/DeleteBtn\";\n// import Jumbotron from \"../components/Jumbotron\";\n// import multiple-component .js files\n\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { SelectRegion, SelectFeature } from \"../components/Search\";\nimport { CardsContainer, ResultCard, NoResultCard } from \"../components/Cards\"; // import { List, ListItem } from \"../components/List\";\n// import { Input, TextArea, FormBtn } from \"../components/Form\";\n// import master style.css for all page views\n\nimport \"./style.css\"; // import API in order to make axios API calls to the Express Server\n// import API from \"../utils/API\";\n// use axios to make XMLHttpRequest API calls\n\nimport axios from \"axios\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      countryAndRegion: \"\",\n      countryCC: \"\",\n      regionCC: \"\",\n      featureCode: \"\",\n      listRegions: ListRegions.countryArray,\n      listFeatures: ListFeatures.featureArray,\n      featureName: \"Ensenada Mogotes\",\n      featureType: \"bay\",\n      featureCountryCode: \"AR\",\n      featureLatitude: \"-38.13333\",\n      featureLongitude: \"-57.56667\",\n      featureLocation: \"\",\n      featureCountryName: \"Argentina\",\n      nearPlaceName: \"LOS ACANTILADOS\",\n      nearPlacePostalCode: \"7609\",\n      nearPlaceCountryCode: \"AR\",\n      nearPlaceCountryName: \"Argentina\",\n      nearPlaceDistance: \"3.5\",\n      nearPlaceLatLong: \"-38.1167,-57.6\",\n      nearPlaceWifi: \"k\"\n    };\n\n    _this.handleInputChange = function (event) {\n      // create variables name and value for event.target.name and event.target.value\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value; // use setState to change state values of the state key [name] for whichever property\n      // if selecting a country or region, also set the Country Code and Region Codes\n\n      if (name === \"countryAndRegion\") {\n        var _this$setState;\n\n        _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"countryCC\", value.substring(0, 2)), _defineProperty(_this$setState, \"regionCC\", value.substring(2, 4)), _this$setState));\n      } else {\n        _this.setState(_defineProperty({}, name, value));\n      }\n    };\n\n    _this.geonamesString = function () {\n      if (_this.state.featureCode) {\n        var geoString;\n\n        if (_this.state.countryCC === \"XX\") {\n          geoString = \"https://secure.geonames.org/searchJSON?featureCode=\".concat(_this.state.featureCode, \"&maxRows=1000&username=ghostfountain\");\n          return geoString;\n        } else if (_this.state.regionCC === \"\") {\n          geoString = \"https://secure.geonames.org/searchJSON?featureCode=\".concat(_this.state.featureCode, \"&country=\").concat(_this.state.countryCC, \"&maxRows=1000&username=ghostfountain\");\n          return geoString;\n        } else {\n          geoString = \"https://secure.geonames.org/searchJSON?featureCode=\".concat(_this.state.featureCode, \"&country=\").concat(_this.state.countryCC, \"&adminCode1=\").concat(_this.state.regionCC, \"&maxRows=1000&username=ghostfountain\");\n          return geoString;\n        } // console.log(geoString);\n\n      } else {\n        alert(\"Please select a feature type.\");\n      }\n    };\n\n    _this.handleFormSubmit = function (event) {\n      // prevent page reload default behavior of \"submit\"\n      event.preventDefault(); // test geonamesString()\n      // console.log(this.geonamesString());\n      // call geonamesString to construct with current info,\n      // and have axios make the XMLHttpRequest GET call to geoNames API\n\n      axios.get(_this.geonamesString()).then(function (response) {\n        // console.log(response.data);\n        if (response.data.totalResultsCount === 0) {\n          // buildNoResults();\n          console.log(\"Sorry, no results!\");\n        } else {\n          // console.log(response.data.totalResultsCount);\n          // console.log(response.data.geonames);\n          // get number of results up to 1000 (set as 1000 if more than 1000)\n          var maxNumber = Math.min(response.data.totalResultsCount, 1000); // get a random number from the range of number of results returned\n\n          var random = Math.floor(Math.random() * maxNumber); // console.log(random);\n          // use the random number to select one result from the returned data\n\n          var theFeature = response.data.geonames[random]; // console.log(theFeature);\n\n          _this.setState({\n            featureName: theFeature.name,\n            featureType: theFeature.fcodeName,\n            featureCountryCode: theFeature.countryCode,\n            featureLatitude: theFeature.lat,\n            featureLongitude: theFeature.lng,\n            featureLocation: theFeature.fclName\n          });\n\n          if (theFeature.countryName) {\n            _this.setState({\n              featureCountryName: theFeature.countryName\n            });\n          } else {\n            _this.setState({\n              featureCountryName: \"\"\n            });\n          }\n        } // });\n\n      }).then(function () {\n        _this.getPostalCodes(); // console.log(\"monkeypants\");\n\n      });\n    };\n\n    _this.getPostalCodes = function () {\n      // build API string for EZCMD postal code search\n      var ezcmdPostalCodes = \"https://ezcmd.com/apps/api_geo_postal_codes/nearby_locations_by_coords/866eaf56be3781d02011b80ebd0baef8/354?coords=\".concat(_this.state.featureLatitude, \",\").concat(_this.state.featureLongitude, \"&within=100&unit=Km\"); // and have axios make the XMLHttpRequest GET call to EZCMD API\n\n      axios.get(ezcmdPostalCodes).then(function (response) {\n        // console.log(response.data);\n        console.log(response.data.search_results[0]);\n\n        if (response.data.search_results.length > 0) {\n          _this.setState({\n            nearPlaceName: response.data.search_results[0].place_name.trim(),\n            nearPlacePostalCode: response.data.search_results[0].postal_code,\n            nearPlaceCountryCode: response.data.search_results[0].country_code,\n            nearPlaceCountryName: response.data.search_results[0].country_name,\n            nearPlaceDistance: Math.round(response.data.search_results[0].distance * 10) / 10,\n            nearPlaceLatLong: response.data.search_results[0].coords\n          });\n\n          _this.getHotspots(_this.state);\n        } else if (_this.state.featureLocation) {\n          _this.setState({\n            nearPlaceName: _this.state.featureLocation,\n            nearPlacePostalCode: \"\",\n            nearPlaceCountryCode: _this.state.featureCountryCode,\n            nearPlaceCountryName: _this.state.featureCountryName,\n            nearPlaceDistance: \"?\",\n            nearPlaceLatLong: \"\"\n          });\n\n          _this.getHotspots(_this.state);\n        } else {\n          _this.getHotspots(_this.state);\n\n          console.log(\"CLOSEST CITY: no info\");\n        }\n      });\n    };\n\n    _this.kFormatter = function (num) {\n      return num > 999 ? (num / 1000).toFixed(1) + \"k\" : num;\n    };\n\n    _this.getHotspots = function (currentState) {\n      var wigleHotspots = \"https://api.wigle.net/api/v2/stats/regions?country=\".concat(_this.state.nearPlaceCountryCode); // and have axios make the XMLHttpRequest GET call to EZCMD API\n\n      axios.get(wigleHotspots, {\n        headers: {\n          Authorization: \"Basic \" + btoa(\"AID544c0365fdcc8c2463ec21d3590bbd23:8891f56fb22400d107dd8ee49d2798ff\")\n        }\n      }).then(function (response) {\n        // console.log(response.data);\n        // console.log(response.data.postalCode);\n        // console.log(response.data.postalCode.length);\n        // console.log(response.data.postalCode[0]);\n        // console.log(response.data.postalCode[0].count);\n        // console.log(response.data.postalCode[0].postalCode);\n        // console.log(currentState);\n        console.log(currentState.nearPlacePostalCode);\n\n        for (var k = 0; k < response.data.postalCode.length; k++) {\n          // let PostalCodeData = response.data.postalCode[k];\n          var PostalCode = response.data.postalCode[k].postalCode; // console.log(PostalCode);\n          // console.log(currentState.nearPlacePostalCode);\n\n          if (PostalCode !== currentState.nearPlacePostalCode) {\n            console.log(\"bonkeymonkers!\");\n          } else {\n            console.log(\"it's a match!\");\n          } // let wifiCountK = this.kFormatter(response.data.postalCode[k].count);\n          // console.log(PostalCodeData);\n          // console.log(PostalCodeData.count);\n          // console.log(PostalCodeData.postalCode);\n          // if (PostalCodeData.postalCode === currentState.nearPlacePostalCode) {\n          // if (PostalCode === currentState.nearPlacePostalCode) {\n          //   console.log(\"It's a match:\");\n          //   console.log(PostalCode);\n          // console.log(PostalCodeData.count);\n          // console.log(PostalCodeData.postalCode);\n          // let wifiCountK = this.kFormatter(PostalCodeData.count);\n          // console.log(wifiCountK);\n          // currentState.setState({\n          // nearPlaceWifi: wifiCountK\n          // });\n          // this.state.nearPlaceWifi = this.state.listHotSpots;\n          // console.log(\n          //   \"WIFI: \" +\n          //     this.state.nearPlaceName +\n          //     \" \" +\n          //     this.state.nearPlacePostalCode +\n          //     \" \" +\n          //     this.state.nearPlaceCountryCode +\n          //     \" has \" +\n          //     wifiCountK +\n          //     \" hotspots\"\n          // );\n          // }\n\n        }\n      }).catch(function (error) {\n        console.log(error);\n      }); // buildCard();\n    };\n\n    _this.loadBooks = function () {//   API.getBooks()\n      //     .then(res => this.setState({ books: res.data, title: \"\", author: \"\", synopsis: \"\" }))\n      //     .catch(err => console.log(err));\n    };\n\n    _this.deleteBook = function (id) {//   API.deleteBook(id)\n      //     .then(res => this.loadBooks())\n      //     .catch(err => console.log(err));\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidUpdate\",\n    // ===================================================\n    value: function componentDidUpdate() {} // console.log(this.state.regionCC);\n    // ===================================================\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {} // this.loadBooks();\n    // console.log(this.state);\n    // ===================================================\n    // send live typed input data to this.state.title, .author, .synopsis on each keystroke\n\n  }, {\n    key: \"render\",\n    // ===================================================\n    value: function render() {\n      return React.createElement(React.Fragment, null, React.createElement(Background, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"sm-6 md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"assets/images/dinofii_logo.svg\",\n        style: {\n          width: \"90%\",\n          maxHeight: 150,\n          padding: \"1px 1px 1px 1px\"\n        },\n        alt: \"Dinofii logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      })), React.createElement(Col, {\n        size: \"sm-6 md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          fontWeight: \"100\",\n          color: \"#444\",\n          textAlign: \"left\",\n          padding: \"0px 30px 30px 0px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontWeight: \"700\",\n          color: \"rgb(121, 27, 27)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, \"FIND NEW PLACES TO EXPLORE.\"), \" Select a feature and choose an area to search. Dinofii gives you a random point of interest and the closest city, as well as links to info, maps, directions, and local wifi.\")))), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6 p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(SelectRegion, {\n        list: this.state.listRegions,\n        thisRegion: this.handleInputChange,\n        onChange: console.log(this.state.countryAndRegion, this.state.countryCC, this.state.regionCC),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-sm-6 p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, React.createElement(SelectFeature, {\n        list: this.state.listFeatures,\n        thisFeature: this.handleInputChange,\n        onChange: console.log(this.state.featureCode),\n        findFeature: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      })))))), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"results_header\",\n        className: \"row pr-2 pl-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group input-group-sm mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"form-control btn-outline-light text-left\",\n        style: {\n          height: \"30px\"\n        },\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, \"SEARCH RESULTS:\"), React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"form-control btn btn-outline-light\",\n        type: \"button\",\n        id: \"clear_button\",\n        style: {\n          width: \"5rem\",\n          height: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, \"CLEAR\"))))), React.createElement(CardsContainer, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, React.createElement(ResultCard, {\n        featureName: this.state.featureName,\n        featureType: this.state.featureType,\n        featureCountryName: this.state.featureCountryName,\n        featureLatitude: this.state.featureLatitude,\n        featureLongitude: this.state.featureLongitude,\n        nearPlaceName: this.state.nearPlaceName,\n        nearPlaceCountryCode: this.state.nearPlaceCountryCode,\n        nearPlacePostalCode: this.state.nearPlacePostalCode,\n        nearPlaceDistance: this.state.nearPlaceDistance,\n        nearPlaceLatLong: this.state.nearPlaceLatLong,\n        nearPlaceWifi: this.state.nearPlaceWifi,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }), React.createElement(NoResultCard, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/richardltrevillianiii/Documents/homework/w21-Wanderlist/wanderlist/client/src/pages/Home.js"],"names":["React","Component","ListRegions","ListFeatures","Header","Background","Col","Row","Container","SelectRegion","SelectFeature","CardsContainer","ResultCard","NoResultCard","axios","Home","state","countryAndRegion","countryCC","regionCC","featureCode","listRegions","countryArray","listFeatures","featureArray","featureName","featureType","featureCountryCode","featureLatitude","featureLongitude","featureLocation","featureCountryName","nearPlaceName","nearPlacePostalCode","nearPlaceCountryCode","nearPlaceCountryName","nearPlaceDistance","nearPlaceLatLong","nearPlaceWifi","handleInputChange","event","target","name","value","setState","substring","geonamesString","geoString","alert","handleFormSubmit","preventDefault","get","then","response","data","totalResultsCount","console","log","maxNumber","Math","min","random","floor","theFeature","geonames","fcodeName","countryCode","lat","lng","fclName","countryName","getPostalCodes","ezcmdPostalCodes","search_results","length","place_name","trim","postal_code","country_code","country_name","round","distance","coords","getHotspots","kFormatter","num","toFixed","currentState","wigleHotspots","headers","Authorization","btoa","k","postalCode","PostalCode","catch","error","loadBooks","deleteBook","id","width","maxHeight","padding","fontWeight","color","textAlign","height"],"mappings":"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","sourcesContent":["// Home page view Component called by React Router in the App.js Router Switch Routes\n\nimport React, { Component } from \"react\";\n// use a <Link> tag in place of <a href> to link to another page view with React Router\n// import { Link } from \"react-router-dom\";\n\n// import list object arrays for Countries/Regions and Feature types\nimport ListRegions from \"../utils/ListRegions\";\nimport ListFeatures from \"../utils/ListFeatures\";\n\n// import single-component .js files\nimport Header from \"../components/Header\";\nimport Background from \"../components/Background\";\n// import DeleteBtn from \"../components/DeleteBtn\";\n// import Jumbotron from \"../components/Jumbotron\";\n\n// import multiple-component .js files\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { SelectRegion, SelectFeature } from \"../components/Search\";\nimport { CardsContainer, ResultCard, NoResultCard } from \"../components/Cards\";\n// import { List, ListItem } from \"../components/List\";\n// import { Input, TextArea, FormBtn } from \"../components/Form\";\n\n// import master style.css for all page views\nimport \"./style.css\";\n\n// import API in order to make axios API calls to the Express Server\n// import API from \"../utils/API\";\n\n// use axios to make XMLHttpRequest API calls\nimport axios from \"axios\";\n\nclass Home extends Component {\n  // variable data held and managed by Home component\n  state = {\n    countryAndRegion: \"\",\n    countryCC: \"\",\n    regionCC: \"\",\n    featureCode: \"\",\n    listRegions: ListRegions.countryArray,\n    listFeatures: ListFeatures.featureArray,\n    featureName: \"Ensenada Mogotes\",\n    featureType: \"bay\",\n    featureCountryCode: \"AR\",\n    featureLatitude: \"-38.13333\",\n    featureLongitude: \"-57.56667\",\n    featureLocation: \"\",\n    featureCountryName: \"Argentina\",\n    nearPlaceName: \"LOS ACANTILADOS\",\n    nearPlacePostalCode: \"7609\",\n    nearPlaceCountryCode: \"AR\",\n    nearPlaceCountryName: \"Argentina\",\n    nearPlaceDistance: \"3.5\",\n    nearPlaceLatLong: \"-38.1167,-57.6\",\n    nearPlaceWifi: \"k\"\n  };\n\n  // ===================================================\n\n  componentDidUpdate() {\n    // console.log(this.state.regionCC);\n  }\n  // ===================================================\n\n  componentDidMount() {\n    // this.loadBooks();\n    // console.log(this.state);\n  }\n  // ===================================================\n\n  // send live typed input data to this.state.title, .author, .synopsis on each keystroke\n  handleInputChange = event => {\n    // create variables name and value for event.target.name and event.target.value\n    const { name, value } = event.target;\n    // use setState to change state values of the state key [name] for whichever property\n    // if selecting a country or region, also set the Country Code and Region Codes\n    if (name === \"countryAndRegion\") {\n      this.setState({\n        [name]: value,\n        countryCC: value.substring(0, 2),\n        regionCC: value.substring(2, 4)\n      });\n    } else {\n      this.setState({\n        [name]: value\n      });\n    }\n  };\n\n  // ===================================================\n\n  geonamesString = () => {\n    if (this.state.featureCode) {\n      let geoString;\n      if (this.state.countryCC === \"XX\") {\n        geoString = `https://secure.geonames.org/searchJSON?featureCode=${this.state.featureCode}&maxRows=1000&username=ghostfountain`;\n        return geoString;\n      } else if (this.state.regionCC === \"\") {\n        geoString = `https://secure.geonames.org/searchJSON?featureCode=${this.state.featureCode}&country=${\n          this.state.countryCC\n        }&maxRows=1000&username=ghostfountain`;\n        return geoString;\n      } else {\n        geoString = `https://secure.geonames.org/searchJSON?featureCode=${this.state.featureCode}&country=${this.state.countryCC}&adminCode1=${\n          this.state.regionCC\n        }&maxRows=1000&username=ghostfountain`;\n        return geoString;\n      }\n      // console.log(geoString);\n    } else {\n      alert(\"Please select a feature type.\");\n    }\n  };\n\n  // ===================================================\n\n  // when user hits the submit button to add a new book,\n  handleFormSubmit = event => {\n    // prevent page reload default behavior of \"submit\"\n    event.preventDefault();\n\n    // test geonamesString()\n    // console.log(this.geonamesString());\n\n    // call geonamesString to construct with current info,\n    // and have axios make the XMLHttpRequest GET call to geoNames API\n    axios\n      .get(this.geonamesString())\n      .then(response => {\n        // console.log(response.data);\n\n        if (response.data.totalResultsCount === 0) {\n          // buildNoResults();\n          console.log(\"Sorry, no results!\");\n        } else {\n          // console.log(response.data.totalResultsCount);\n          // console.log(response.data.geonames);\n\n          // get number of results up to 1000 (set as 1000 if more than 1000)\n          let maxNumber = Math.min(response.data.totalResultsCount, 1000);\n\n          // get a random number from the range of number of results returned\n          let random = Math.floor(Math.random() * maxNumber);\n          // console.log(random);\n\n          // use the random number to select one result from the returned data\n          let theFeature = response.data.geonames[random];\n          // console.log(theFeature);\n\n          this.setState({\n            featureName: theFeature.name,\n            featureType: theFeature.fcodeName,\n            featureCountryCode: theFeature.countryCode,\n            featureLatitude: theFeature.lat,\n            featureLongitude: theFeature.lng,\n            featureLocation: theFeature.fclName\n          });\n\n          if (theFeature.countryName) {\n            this.setState({\n              featureCountryName: theFeature.countryName\n            });\n          } else {\n            this.setState({ featureCountryName: \"\" });\n          }\n        }\n        // });\n      })\n      .then(() => {\n        this.getPostalCodes();\n        // console.log(\"monkeypants\");\n      });\n  };\n\n  // ===========================================================================\n  // GET CLOSEST POSTAL CODE TO FEATURE LOCATION and NEARBY PLACE\n  // LAT+LONG COORDINATES FROM EZCMD API (limit 10,000 calls/month)\n  // ===========================================================================\n\n  getPostalCodes = () => {\n    // build API string for EZCMD postal code search\n    let ezcmdPostalCodes = `https://ezcmd.com/apps/api_geo_postal_codes/nearby_locations_by_coords/866eaf56be3781d02011b80ebd0baef8/354?coords=${\n      this.state.featureLatitude\n    },${this.state.featureLongitude}&within=100&unit=Km`;\n\n    // and have axios make the XMLHttpRequest GET call to EZCMD API\n    axios.get(ezcmdPostalCodes).then(response => {\n      // console.log(response.data);\n      console.log(response.data.search_results[0]);\n\n      if (response.data.search_results.length > 0) {\n        this.setState({\n          nearPlaceName: response.data.search_results[0].place_name.trim(),\n          nearPlacePostalCode: response.data.search_results[0].postal_code,\n          nearPlaceCountryCode: response.data.search_results[0].country_code,\n          nearPlaceCountryName: response.data.search_results[0].country_name,\n          nearPlaceDistance: Math.round(response.data.search_results[0].distance * 10) / 10,\n          nearPlaceLatLong: response.data.search_results[0].coords\n        });\n\n        this.getHotspots(this.state);\n      } else if (this.state.featureLocation) {\n        this.setState({\n          nearPlaceName: this.state.featureLocation,\n          nearPlacePostalCode: \"\",\n          nearPlaceCountryCode: this.state.featureCountryCode,\n          nearPlaceCountryName: this.state.featureCountryName,\n          nearPlaceDistance: \"?\",\n          nearPlaceLatLong: \"\"\n        });\n\n        this.getHotspots(this.state);\n      } else {\n        this.getHotspots(this.state);\n        console.log(\"CLOSEST CITY: no info\");\n      }\n    });\n  };\n\n  // ===================================================\n\n  // ===========================================================================\n  // GET # OF WIFI HOTSPOTS BY POSTAL CODE FROM WIGLE API (service is beta, no set limits)\n  // ===========================================================================\n\n  // mini function to format thousands of WiFi numbers to k format\n  kFormatter = num => {\n    return num > 999 ? (num / 1000).toFixed(1) + \"k\" : num;\n  };\n\n  getHotspots = currentState => {\n    let wigleHotspots = `https://api.wigle.net/api/v2/stats/regions?country=${this.state.nearPlaceCountryCode}`;\n\n    // and have axios make the XMLHttpRequest GET call to EZCMD API\n    axios\n      .get(wigleHotspots, {\n        headers: {\n          Authorization: \"Basic \" + btoa(\"AID544c0365fdcc8c2463ec21d3590bbd23:8891f56fb22400d107dd8ee49d2798ff\")\n        }\n      })\n      .then(function(response) {\n        // console.log(response.data);\n        // console.log(response.data.postalCode);\n        // console.log(response.data.postalCode.length);\n        // console.log(response.data.postalCode[0]);\n        // console.log(response.data.postalCode[0].count);\n        // console.log(response.data.postalCode[0].postalCode);\n\n        // console.log(currentState);\n        console.log(currentState.nearPlacePostalCode);\n\n        for (let k = 0; k < response.data.postalCode.length; k++) {\n          // let PostalCodeData = response.data.postalCode[k];\n          let PostalCode = response.data.postalCode[k].postalCode;\n\n          // console.log(PostalCode);\n          // console.log(currentState.nearPlacePostalCode);\n\n          if (PostalCode !== currentState.nearPlacePostalCode) {\n            console.log(\"bonkeymonkers!\");\n          } else {\n            console.log(\"it's a match!\");\n          }\n\n          // let wifiCountK = this.kFormatter(response.data.postalCode[k].count);\n          // console.log(PostalCodeData);\n          // console.log(PostalCodeData.count);\n          // console.log(PostalCodeData.postalCode);\n\n          // if (PostalCodeData.postalCode === currentState.nearPlacePostalCode) {\n\n          // if (PostalCode === currentState.nearPlacePostalCode) {\n          //   console.log(\"It's a match:\");\n          //   console.log(PostalCode);\n          // console.log(PostalCodeData.count);\n          // console.log(PostalCodeData.postalCode);\n\n          // let wifiCountK = this.kFormatter(PostalCodeData.count);\n          // console.log(wifiCountK);\n\n          // currentState.setState({\n          // nearPlaceWifi: wifiCountK\n          // });\n\n          // this.state.nearPlaceWifi = this.state.listHotSpots;\n          // console.log(\n          //   \"WIFI: \" +\n          //     this.state.nearPlaceName +\n          //     \" \" +\n          //     this.state.nearPlacePostalCode +\n          //     \" \" +\n          //     this.state.nearPlaceCountryCode +\n          //     \" has \" +\n          //     wifiCountK +\n          //     \" hotspots\"\n          // );\n          // }\n        }\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n\n    // buildCard();\n  };\n\n  // ===================================================\n\n  // call client/src/utils/API.js to make API.saveBook(bookData) axios API call\n  // and send current this.state.title, .author, and .synopsis values\n  // as the req.body (bookData) of the axios API POST call to /api/books\n  // API.saveBook({\n  //   title: this.state.title,\n  //   author: this.state.author,\n  //   synopsis: this.state.synopsis\n  // })\n  //   // after async operation completes, call loadBooks() to get updated book list\n  //   .then(res => this.loadBooks())\n  //   .catch(err => console.log(err));\n\n  // ===================================================\n\n  // call client/src/utils/API.js to make API.getBooks() axios API route call\n  // loads all books data in the db into this.state.books\n  // and also clear all existing data in this.state.title, .author, and .synopsis\n\n  loadBooks = () => {\n    //   API.getBooks()\n    //     .then(res => this.setState({ books: res.data, title: \"\", author: \"\", synopsis: \"\" }))\n    //     .catch(err => console.log(err));\n  };\n\n  // ===================================================\n\n  // when this.deleteBook(id) is called,\n  // call client/src/utils/API.js to make API.deleteBook(id) axios API route call\n  // and then call this.loadBooks() above to refresh all book data in state\n\n  deleteBook = id => {\n    //   API.deleteBook(id)\n    //     .then(res => this.loadBooks())\n    //     .catch(err => console.log(err));\n  };\n\n  // ===================================================\n\n  render() {\n    return (\n      <>\n        {/* <Container fluid > */}\n        <Background>\n          {/* logo and intro text header */}\n          <Header>\n            <Row>\n              <Col size=\"sm-6 md-4\">\n                <img src=\"assets/images/dinofii_logo.svg\" style={{ width: \"90%\", maxHeight: 150, padding: \"1px 1px 1px 1px\" }} alt=\"Dinofii logo\" />\n              </Col>\n              <Col size=\"sm-6 md-8\">\n                <div style={{ fontWeight: \"100\", color: \"#444\", textAlign: \"left\", padding: \"0px 30px 30px 0px\" }}>\n                  <span style={{ fontWeight: \"700\", color: \"rgb(121, 27, 27)\" }}>FIND NEW PLACES TO EXPLORE.</span> Select a feature and choose an\n                  area to search. Dinofii gives you a random point of interest and the closest city, as well as links to info, maps, directions, and\n                  local wifi.\n                </div>\n              </Col>\n            </Row>\n          </Header>\n\n          {/* Search Options Pulldown Selects */}\n          <Container>\n            {/* <Container fluid> */}\n            <form action=\"\">\n              <Row>\n                <div className=\"col-sm-6 p-2\">\n                  <div className=\"input-group\">\n                    <SelectRegion\n                      list={this.state.listRegions}\n                      thisRegion={this.handleInputChange}\n                      onChange={console.log(this.state.countryAndRegion, this.state.countryCC, this.state.regionCC)}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-sm-6 p-2\">\n                  <div className=\"input-group\">\n                    <SelectFeature\n                      list={this.state.listFeatures}\n                      thisFeature={this.handleInputChange}\n                      onChange={console.log(this.state.featureCode)}\n                      findFeature={this.handleFormSubmit}\n                    />\n                  </div>\n                </div>\n              </Row>\n            </form>\n          </Container>\n\n          {/* Clear All Results button and search results label */}\n          <Container>\n            <div id=\"results_header\" className=\"row pr-2 pl-2\">\n              <div className=\"input-group input-group-sm mb-3\">\n                <button className=\"form-control btn-outline-light text-left\" style={{ height: \"30px\" }} disabled>\n                  SEARCH RESULTS:\n                </button>\n                <div className=\"input-group-prepend\">\n                  <button className=\"form-control btn btn-outline-light\" type=\"button\" id=\"clear_button\" style={{ width: \"5rem\", height: \"30px\" }}>\n                    CLEAR\n                  </button>\n                </div>\n              </div>\n            </div>\n          </Container>\n\n          {/* ResultCards list */}\n          <CardsContainer fluid>\n            <ResultCard\n              featureName={this.state.featureName}\n              featureType={this.state.featureType}\n              featureCountryName={this.state.featureCountryName}\n              featureLatitude={this.state.featureLatitude}\n              featureLongitude={this.state.featureLongitude}\n              nearPlaceName={this.state.nearPlaceName}\n              nearPlaceCountryCode={this.state.nearPlaceCountryCode}\n              nearPlacePostalCode={this.state.nearPlacePostalCode}\n              nearPlaceDistance={this.state.nearPlaceDistance}\n              nearPlaceLatLong={this.state.nearPlaceLatLong}\n              nearPlaceWifi={this.state.nearPlaceWifi}\n            />\n            <NoResultCard />\n          </CardsContainer>\n\n          {/* Row returns a Bootstrap \"row\" */}\n          {/* <Row> */}\n          {/* Col returns a Bootstrap \"col-md-6\" */}\n          {/* <Col size=\"md-6\"> */}\n          {/* returns a Bootstrap \"jumbotron\" with inline CSS */}\n          {/* <Jumbotron> */}\n          {/* <h1>What Books Should I Read?</h1> */}\n          {/* </Jumbotron> */}\n          {/* HTML <form> tag: input for adding a new book */}\n          {/* <form> */}\n          {/* Bootstrap \"form-group\" <div> and \"form-control\" <input> with ...props */}\n          {/* <Input  */}\n          {/* // insert this.state.title data as the value of the input field */}\n          {/* value={this.state.title}  */}\n          {/* // on every char typed, make field value the value of this.state.title */}\n          {/* onChange={this.handleInputChange}  */}\n          {/* // name used by this.handleInputChange to change this.state.title */}\n          {/* name=\"title\"  */}\n          {/* // displayed field text when no value exists */}\n          {/* placeholder=\"Title (required)\"  */}\n          {/* /> */}\n          {/* <Input  */}\n          {/* value={this.state.author}  */}\n          {/* onChange={this.handleInputChange}  */}\n          {/* name=\"author\"  */}\n          {/* placeholder=\"Author (required)\"  */}\n          {/* /> */}\n          {/* uses <textarea> instead of <input>, sizes input field to 20 rows deep */}\n          {/* <TextArea  */}\n          {/* value={this.state.synopsis}  */}\n          {/* onChange={this.handleInputChange}  */}\n          {/* name=\"synopsis\"  */}\n          {/* placeholder=\"Synopsis (Optional)\"  */}\n          {/* /> */}\n          {/* <button> with Bootstrap classes, inline CSS, props, and children */}\n          {/* <FormBtn  */}\n          {/* // button is disabled if no author AND title are entered */}\n          {/* disabled={!(this.state.author && this.state.title)}  */}\n          {/* // when button is clicked, handle the click with this.handleFormSubmit */}\n          {/* onClick={this.handleFormSubmit} */}\n          {/* > */}\n          {/* Submit Book */}\n          {/* </FormBtn> */}\n          {/* </form> */}\n          {/* </Col> */}\n          {/* <Col size=\"md-6 sm-12\"> */}\n          {/* <Jumbotron> */}\n          {/* <h1>Books On My List</h1> */}\n          {/* </Jumbotron> */}\n          {/* if there are books in this.state.books (if TRUE (exists)), then */}\n          {/* {this.state.books.length ? ( */}\n          {/* // create a List component container (styled <div> holding \"list-group\" <ul>) */}\n          {/* <List> */}\n          {/* array.map() all books in this.state.books */}\n          {/* {this.state.books.map(book => ( */}\n          {/* // where every book object gets a ListItem component with a key for React */}\n          {/* // an <li> with Bootstrap \"list-group-item\" */}\n          {/* <ListItem key={book._id}> */}\n          {/* <li> contains a Link (React Router) to it's own book page */}\n          {/* App.js (React Router) sends this route to Detail.js page view */}\n          {/* <Link to={\"/books/\" + book._id}> */}\n          {/* <strong> */}\n          {/* Link surrounds the displayed title and author */}\n          {/* {book.title} by {book.author} */}\n          {/* </strong> */}\n          {/* </Link> */}\n          {/* ListItem also contains DeleteBtn with click handler */}\n          {/* returns a <button> with other non-individual properties */}\n          {/* <DeleteBtn onClick={() => this.deleteBook(book._id)} /> */}\n          {/* </ListItem> */}\n          {/* ))} */}\n          {/* </List> */}\n          {/* ) : ( */}\n          {/* // otherwise, if this.state.books does not have a length (no data), then */}\n          {/* // don't create the <List> component, just create this <h3>: */}\n          {/* <h3>No Results to Display</h3> */}\n          {/* )} */}\n          {/* </Col> */}\n          {/* </Row> */}\n          {/* </Container> */}\n        </Background>\n      </>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}